<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Menu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: #FAFAF8;
            color: #333333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 16px;
            margin: 0 auto;
            position: relative;
            overflow-x: hidden;
            border: 2px solid #e9ecef;
            max-width: 100%;
            width: 100%;
        }
        
        /* Header with 4 equal spaces */
        .header {
            background: #f8f9fa;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            align-items: center;
            height: 88px;
            margin-bottom: 16px;
            position: relative;
            width: 100%;
        }
        
        .logo-container {
            background: #FAFAF8;
            border-radius: 8px;
            width: 100%;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #dee2e6;
            grid-column: 1;
        }
        
        .logo {
            font-size: 20px;
            font-weight: 700;
            color: #6b8e23;
        }
        
        /* Empty space in header (space 2) */
        .header-space {
            grid-column: 2;
            width: 100%;
            height: 40px;
        }
        
        .header-buttons {
            display: flex;
            gap: 16px;
            grid-column: 3 / span 2;
        }
        
        .header-btn {
            background: #6b8e23;
            color: #6b8e23;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
            height: 40px;
            gap: 6px;
            padding: 0 10px;
            border: 1px solid #dee2e6;
            transition: all 0.3s ease;
            font-size: 12px;
        }
        
        /* Call waiter button with green background */
        .header-btn.call-waiter {
            background: #6b8e23;
            color: white;
        }
        
        .header-btn.call-waiter:active {
            background: #5a7120;
        }
        
        .header-btn.table:active {
            background: #6b8e23;
        }
        
        /* Search bar - keeping the shadow as requested */
        .search-container {
            background: #FAFAF8;
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            width: 100%;
            height: 48px;
            border: 1px solid #6b8e23;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(107, 142, 35, 0.2);
        }
        
        .search-container input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 16px;
            background: transparent;
            color: rgba(51, 51, 51, 0.7);
        }
        
        /* Filters aligned with header */
        .filters {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
            width: 100%;
        }
        
        .filter-btn {
            background: #FAFAF8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            cursor: pointer;
            width: 100%;
            height: 32px;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            border: 1px solid #1B2828;
            position: relative;
        }
        
        /* Veg filter specific size */
        .filter-btn.veg {
            width: 83px;
        }
        
        /* Non-veg filter specific size */
        .filter-btn.non-veg {
            width: 86px;
        }
        
        /* Close button for filters */
        .filter-close {
            position: absolute;
            top: -6px;
            right: -6px;
            width: 16px;
            height: 16px;
            background: #d40000;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            display: none;
            z-index: 5;
        }
        
        .filter-btn.active .filter-close {
            display: flex;
        }
        
        /* Veg filter aligned with logo (space 1) */
        .filter-btn.veg {
            grid-column: 1;
        }
        
        /* Non-veg filter aligned with empty space (space 2) */
        .filter-btn.non-veg {
            grid-column: 2;
        }
        
        /* Lighter color for active filters */
        .filter-btn.veg.active {
            background-color: #F7FFE8;
            border-color: #6B8E23;
        }
        
        .filter-btn.non-veg.active {
            background-color: #FFEBEB;
            border-color: #D40000;
        }
        
        .veg-indicator {
            width: 16px;
            height: 16px;
            border: 1px solid #6B8E23;
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #FAFAF8;
        }
        
        .veg-dot {
            width: 8px;
            height: 8px;
            background: #008000;
            border-radius: 50%;
        }
        
        .non-veg-indicator {
            width: 16px;
            height: 16px;
            border: 1px solid #D40000;
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #FAFAF8;
        }
        
        .non-veg-dot {
            width: 8px;
            height: 8px;
            background: #D40000;
            border-radius: 50%;
        }
        
        .filter-text {
            white-space: nowrap;
            font-size: 12px;
            font-weight: 500;
        }
        
        /* Active state text color changes */
        .filter-btn.active .filter-text {
            color: black;
        }
        
        /* Menu grid with exact dimensions */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 80px;
            width: 100%;
            justify-content: center;
        }
        
        .menu-item {
            background: #FAFAF8;
            border-radius: 8px;
            overflow: hidden;
            height: 256px;
            width: 100%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }
        
        .menu-item:active {
            background: #f8f9fa;
        }
        
        .food-image {
            width: 100%;
            height: 152px;
            object-fit: cover;
            display: block;
            border-radius: 8px 8px 0 0;
        }
        
        .food-details {
            padding: 8px;
            display: flex;
            flex-direction: column;
            gap: 40px;
            width: 100%;
            height: 83px;
        }
        
        .food-name-type {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            height: 19px;
        }
        
        .food-name {
            font-weight: 500;
            font-size: 16px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80%;
        }
        
        .food-type {
            width: 16px;
            height: 16px;
            position: relative;
        }
        
        .type-indicator {
            width: 16px;
            height: 16px;
            border-radius: 2px;
            border: 1px solid;
            position: absolute;
            background-color: #FAFAF8;
        }
        
        .type-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            position: absolute;
            top: 4px;
            left: 4px;
        }
        
        .veg-type .type-indicator {
            border-color: #6B8E23;
        }
        
        .veg-type .type-dot {
            background: #6B8E23;
        }
        
        .non-veg-type .type-indicator {
            border-color: #D40000;
        }
        
        .non-veg-type .type-dot {
            background: #D40000;
        }
        
        .food-price-action {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            height: 24px;
        }
        
        .food-price {
            font-weight: 600;
            font-size: 16px;
        }
        
        /* Add button */
        .add-btn {
            background: #6b8e23;
            color: #ffffff;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            width: 67px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 8px 0;
        }
        
        .add-btn:active {
            background: #5a7120;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 67px;
            height: 28px;
            background: #6b8e23;
            border-radius: 3px;
            padding: 0 4px;
            margin: 8px 0;
        }
        
        .quantity-btn {
            background: none;
            border: none;
            width: 20px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: 600;
            color: white;
            font-size: 14px;
        }
        
        .quantity-value {
            font-size: 12px;
            font-weight: 500;
            color: white;
            background: none;
            padding: 0 4px;
        }
        
        /* Cart summary */
        .cart-summary {
            background: #6b8e23;
            color: white;
            border-radius: 8px;
            padding: 16px;
            display: none;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            height: 56px;
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            max-width: 368px;
        }
        
        .cart-summary.visible {
            display: flex;
        }
        
        .cart-items {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .view-cart-btn {
            background: transparent;
            color: white;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }
        
        /* Food detail view */
        .food-detail {
            display: none;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateY(100%);
            width: 100%;
            height: 480px;
            background: #f8f9fa;
            z-index: 20;
            padding: 0;
            border-top-left-radius: 16px;
            border-top-right-radius: 16px;
            transition: transform 0.4s ease;
            max-width: 100%;
            overflow: hidden;
            
        }
        
        .food-detail.active {
            transform: translateX(-50%) translateY(0);
            display: flex;
            flex-direction: column;
        }
        
        .detail-image-container {
            position: relative;
            width: 100%;
            height: 240px;
            flex-shrink: 0;
        }
        
        .detail-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        /* Back button */
        .back-btn {
            position: absolute;
            top: 16px;
            left: 16px;
            width: 32px;
            height: 32px;
            background: #E4E6E3;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
       
            font-size: 16px;
            font-weight: bold;
        }
        
        .back-btn:active {
            background: #9A9E93;
        }
        
        .detail-content {
            padding: 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .detail-name-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .detail-name-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .detail-name {
            font-size: 18px;
            font-weight: 600;
        }
        
        .detail-price {
            font-size: 18px;
            font-weight: 600;
        }
        
        .detail-description {
            background: #FAFAF8;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
            flex: 1;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.4;
            border: 1px solid #e9ecef;
        }
        
        .detail-add-btn {
            background: #6b8e23;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            margin-bottom: 16px;
        }
        
        .detail-add-btn:active {
            background: #5a7120;
        }
        
        .detail-quantity-controls {
            display: none;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            height: 60px;
            background: #6b8e23;
            border-radius: 8px;
            margin-bottom: 16px;
            padding: 0 16px;
        }
        
        .detail-quantity-btn {
            background: none;
            border: none;
            width: 56px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            font-weight: 600;
            color: white;
        }
        
        .detail-quantity-value {
            font-size: 20px;
            font-weight: 500;
            color: white;
            background: none;
            padding: 0 16px;
        }
        
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 15;
        }
        
        .overlay.active {
            display: block;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #888;
            grid-column: 1 / -1;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .menu-item {
            animation: fadeIn 0.5s ease forwards;
        }

        /* ORDER SUMMARY PAGE STYLES */
        .order-summary-view {
            display: none;
            flex-direction: column;
            height: calc(100vh - 32px);
            position: relative;
            padding-bottom: 100px; /* Space for fixed footer */
        }

        .order-summary-container {
            background: #FAFAF8;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid #e9ecef;
        }

        .order-items {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 0;
        }

        .order-item {
            display: flex;
            padding: 12px 0;
            position: relative;
        }

        .order-item:not(:last-child) {
            border-bottom: 2px solid #e9ecef;
        }

        .order-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 12px;
        }

        .order-item-details {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .order-item-type {
            margin-bottom: 6px;
        }

        .order-item-name {
            font-weight: 500;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .order-item-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .order-quantity-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 80px;
            height: 28px;
            background: #6b8e23;
            border-radius: 3px;
            padding: 0 4px;
        }

        .order-item-price {
            position: absolute;
            bottom: 12px;
            right: 0;
            font-weight: 600;
            font-size: 16px;
        }

        .phone-input-section {
            background: #FAFAF8;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid #e9ecef;
        }

        .phone-input-title {
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .phone-input-container {
            background: #FAFAF8;
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
            height: 48px;
            border: 1px solid #6b8e23;
            box-shadow: 0 2px 8px rgba(107, 142, 35, 0.2);
        }

        .phone-input-container.invalid {
            border-color: #D40000;
        }

        .phone-input-container input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 16px;
            background: transparent;
        }

        .payment-footer {
            display: flex;
            background: #FAFAF8;
            border-top: 1px solid #e9ecef;
            padding: 16px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            gap: 16px;
            z-index: 10;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }

        .payment-options {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 8px;
        }

        .payment-method-selector {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            cursor: pointer;
        }

        .payment-method-label {
            font-size: 12px;
            color: #888;
            margin-right: 8px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .payment-method-label span {
            text-transform: lowercase;
        }

        .payment-toggle {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #6b8e23;
        }

        .payment-option {
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 500;
        }

        .payment-option img {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }

        .pay-button-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-left: 8px;
        }

        .pay-button {
            background: #6b8e23;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .pay-button:active {
            background: #5a7120;
        }

        .back-arrow {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            cursor: pointer;
            font-weight: 500;
        }

        .back-arrow i {
            margin-right: 8px;
        }

        /* Media query for very small devices */
        @media (max-width: 350px) {
            .menu-grid {
                grid-template-columns: 1fr;
                justify-items: center;
            }
            
            .header-btn {
                font-size: 11px;
            }
            
            .filter-text {
                font-size: 11px;
            }
            
            .add-btn, .quantity-controls {
                width: 60px;
                height: 25px;
            }
            
            .detail-add-btn, .detail-quantity-controls {
                width: 100%;
            }
            
            .food-detail {
                height: 100vh;
            }
            
            .detail-image-container {
                height: 35vh;
            }

            /* Order summary adjustments */
            .order-item {
                flex-direction: column;
            }
            
            .order-item-image {
                width: 100%;
                height: 120px;
                margin-right: 0;
                margin-bottom: 8px;
            }
            
            .payment-footer {
                flex-direction: column;
                padding: 12px;
            }
            
            .payment-options, .pay-button-container {
                width: 100%;
                padding: 8px 0;
            }
        }
    </style>
</head>
<body>
    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Main View -->
    <div class="main-view" id="main-view">
        <!-- Header with 4 equal spaces -->
        <header class="header">
            <div class="logo-container">
                <div class="logo">LOGO</div>
            </div>
            
            <!-- Empty space (space 2) -->
            <div class="header-space"></div>
            
            <div class="header-buttons">
                <div class="header-btn call-waiter"><img src="waiter.png" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"> <span class="call-waiter">Call Waiter</span></div>
                 
                 <div class="header-btn call-waiter"><img src="table.png" alt="Table Icon" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"> <span class="call-waiter">1418</span></div>
            </div>
        </header>

        <!-- Search Bar -->
        <div class="search-container" id="search-container">
            <i class="fas fa-search" style="color: #6b8e23;"></i>
            <input type="text" placeholder="Search Food Name" id="search-input">
        </div>

        <!-- Filter Buttons aligned with header -->
        <div class="filters">
            <button class="filter-btn veg" data-filter="veg">
                <div class="filter-close">×</div>
                <div class="veg-indicator">
                    <div class="veg-dot"></div>
                </div>
                <span class="filter-text">Veg</span>
            </button>
            <button class="filter-btn non-veg" data-filter="non-veg">
                <div class="filter-close">×</div>
                <div class="non-veg-indicator">
                    <div class="non-veg-dot"></div>
                </div>
                <span class="filter-text">Non-Veg</span>
            </button>
        </div>

        <!-- Menu Grid -->
        <div class="menu-grid" id="menu-grid">
            <!-- Food items will be dynamically inserted here -->
        </div>

        <!-- Cart Summary -->
        <div class="cart-summary" id="cart-summary">
            <div class="cart-items">
                <i class="fas fa-concierge-bell"></i>
                <span>Items added: <span id="cart-count">0</span></span>
            </div>
            <button class="view-cart-btn" id="view-cart-btn">View Plate ></button>
        </div>
    </div>

    <!-- Food Detail View (hidden by default) -->
    <div class="food-detail" id="food-detail">
        <div class="detail-image-container">
            <img src="" alt="Food Image" class="detail-image" id="detail-image">
               <div class="back-btn" id="back-btn" style="width:24px; height:24px; display:flex; align-items:center; justify-content:center;">
                <img src="arrow.png" alt="Back Arrow" style="width:25px; height:25px;">
               </div>
        </div>
        
        <div class="detail-content">
            <div class="detail-name-price">
                <div class="detail-name-container">
                    <div class="food-type veg-type" id="detail-type">
                        <div class="type-indicator"></div>
                        <div class="type-dot"></div>
                    </div>
                    <div class="detail-name" id="detail-name">Food Name</div>
                </div>
                <div class="detail-price" id="detail-price">₹180</div>
            </div>
            
            <div class="detail-description" id="detail-description">
                This is a delicious food item with fresh ingredients and authentic flavors that will satisfy your taste buds.
            </div>
            
            <button class="detail-add-btn" id="detail-add-btn">ADD TO CART</button>
            <div class="detail-quantity-controls" id="detail-quantity-controls">
                <button class="detail-quantity-btn" id="detail-minus-btn">-</button>
                <span class="detail-quantity-value" id="detail-quantity-value">1</span>
                <button class="detail-quantity-btn" id="detail-plus-btn">+</button>
            </div>
        </div>
    </div>

    <!-- Order Summary View (hidden by default) -->
    <div class="order-summary-view" id="order-summary-view">
        <!-- Header with 4 equal spaces (same as home page) -->
        <header class="header">
            <div class="logo-container">
                <div class="logo">LOGO</div>
            </div>
            
            <!-- Empty space (space 2) -->
            <div class="header-space"></div>
            
            <div class="header-buttons">
                <div class="header-btn call-waiter"><img src="waiter.png" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"> <span class="call-waiter">Call Waiter</span></div>
                 
                 <div class="header-btn call-waiter"><img src="table.png" alt="Table Icon" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;"> <span class="call-waiter">1418</span></div>
            </div>
        </header>

        <!-- Back arrow in the body -->
        <div class="back-arrow" id="back-to-menu-btn">
            <i class="fas fa-arrow-left"></i>
            <span>Back to Menu</span>
        </div>

        <!-- Order Summary Container -->
        <div class="order-summary-container">
            <div class="order-items" id="order-items">
                <!-- Order items will be dynamically inserted here -->
            </div>
        </div>

        <!-- Phone Input Section (placed right after order summary) -->
        <div class="phone-input-section">
            <div class="phone-input-title">Phone Number *</div>
            <div class="phone-input-container" id="phone-input-container">
                <i class="fas fa-phone" style="color: #6b8e23;"></i>
                <input type="tel" placeholder="Enter your phone number" id="phone-input" maxlength="10" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
            </div>
        </div>

        <!-- Payment Footer -->
        <div class="payment-footer">
            <div class="payment-options">
                <div class="payment-method-selector">
                    <div class="payment-method-label">PAY <span>using</span></div>
                    <button class="payment-toggle">^</button>
                </div>
                <div class="payment-option">
                    <img src="google-pay.png" alt="Google Pay"> Google Pay
                </div>
            </div>
            <div class="pay-button-container">
                <button class="pay-button" id="pay-button">Pay ₹0</button>
            </div>
        </div>
    </div>

    <script>
        // Sample food data
        const foodItems = [
            { 
                id: 1, 
                name: "Margherita Pizza", 
                price: 250, 
                image: "https://images.unsplash.com/photo-1604068549290-dea0e4a305ca?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cGl6emF8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60", 
                type: "veg",
                description: "Classic pizza with tomato sauce, mozzarella cheese, and fresh basil on a thin crust."
            },
            { 
                id: 2, 
                name: "Chicken Burger", 
                price: 180, 
                image: "https://images.unsplash.com/photo-1571091655789-405eb7a3a3a8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGNoaWNrZW4lMjBidXJnZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60", 
                type: "non-veg",
                description: "Juicy grilled chicken patty with lettuce, tomato, and special sauce in a soft bun."
            },
            { 
                id: 3, 
                name: "Veg Pasta", 
                price: 160, 
                image: "https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cGFzdGElMjB2ZWd8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60", 
                type: "veg",
                description: "Penne pasta tossed in a rich tomato sauce with fresh vegetables and herbs."
            },
            { 
                id: 4, 
                name: "Grilled Chicken", 
                price: 320, 
                image: "https://images.unsplash.com/photo-1604503468725-2bef0fbb6c75?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z3JpbGxlZCUyMGNoaWNrZW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60", 
                type: "non-veg",
                description: "Tender chicken breast marinated in herbs and spices, grilled to perfection."
            },
            { 
                id: 5, 
                name: "Fresh Salad", 
                price: 120, 
                image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c2FsYWR8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60", 
                type: "veg",
                description: "Mixed greens with cherry tomatoes, cucumbers, olives, and a light vinaigrette dressing."
            },
            { 
                id: 6, 
                name: "Fish Curry", 
                price: 280, 
                image: "https://images.unsplash.com/photo-1639163596740-77aa5e342f1f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGZpc2glMjBjdXJyeXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60", 
                type: "non-veg",
                description: "Fresh fish cooked in a flavorful curry with coconut milk and aromatic spices."
            }
        ];

        // Cart state
        let cart = [];
        let currentFilter = "all";
        let searchTerm = "";
        let currentDetailItemId = null;
        let detailQuantity = 1;

        // DOM Elements
        const mainView = document.getElementById('main-view');
        const orderSummaryView = document.getElementById('order-summary-view');
        const menuGrid = document.getElementById('menu-grid');
        const orderItems = document.getElementById('order-items');
        const searchInput = document.getElementById('search-input');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const cartCount = document.getElementById('cart-count');
        const cartSummary = document.getElementById('cart-summary');
        const viewCartBtn = document.getElementById('view-cart-btn');
        const backToMenuBtn = document.getElementById('back-to-menu-btn');
        const foodDetail = document.getElementById('food-detail');
        const backBtn = document.getElementById('back-btn');
        const detailImage = document.getElementById('detail-image');
        const detailName = document.getElementById('detail-name');
        const detailPrice = document.getElementById('detail-price');
        const detailDescription = document.getElementById('detail-description');
        const detailAddBtn = document.getElementById('detail-add-btn');
        const detailQuantityControls = document.getElementById('detail-quantity-controls');
        const detailMinusBtn = document.getElementById('detail-minus-btn');
        const detailPlusBtn = document.getElementById('detail-plus-btn');
        const detailQuantityValue = document.getElementById('detail-quantity-value');
        const detailType = document.getElementById('detail-type');
        const overlay = document.getElementById('overlay');
        const filterCloses = document.querySelectorAll('.filter-close');
        const payButton = document.getElementById('pay-button');
        const phoneInput = document.getElementById('phone-input');
        const phoneInputContainer = document.getElementById('phone-input-container');

        // Initialize the page
        function init() {
            renderFoodItems(foodItems);
            setupEventListeners();
            updateCartUI();
        }

        // Render food items
        function renderFoodItems(items) {
            menuGrid.innerHTML = '';
            
            const filteredItems = items.filter(item => {
                const matchesFilter = currentFilter === "all" || item.type === currentFilter;
                const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });
            
            if (filteredItems.length === 0) {
                menuGrid.innerHTML = '<div class="empty-state">No food items found</div>';
                return;
            }
            
            filteredItems.forEach(item => {
                const cartItem = cart.find(cartItem => cartItem.id === item.id);
                const quantity = cartItem ? cartItem.quantity : 0;
                
                const foodItemElement = document.createElement('div');
                foodItemElement.classList.add('menu-item');
                foodItemElement.dataset.id = item.id;
                foodItemElement.dataset.type = item.type;
                
                foodItemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="food-image">
                    <div class="food-details">
                        <div class="food-name-type">
                            <div class="food-name">${item.name}</div>
                            <div class="food-type ${item.type}-type">
                                <div class="type-indicator"></div>
                                <div class="type-dot"></div>
                            </div>
                        </div>
                        <div class="food-price-action">
                            <div class="food-price">₹${item.price}</div>
                            ${quantity > 0 ? 
                                `<div class="quantity-controls" data-id="${item.id}">
                                    <button class="quantity-btn minus-btn">-</button>
                                    <span class="quantity-value">${quantity}</span>
                                    <button class="quantity-btn plus-btn">+</button>
                                </div>` : 
                                `<button class="add-btn" data-id="${item.id}">ADD</button>`
                            }
                        </div>
                    </div>
                `;
                
                menuGrid.appendChild(foodItemElement);
            });
            
            attachMenuEventListeners();
        }

        // Render order items
        function renderOrderItems() {
            orderItems.innerHTML = '';
            
            if (cart.length === 0) {
                orderItems.innerHTML = '<div class="empty-state">No items in your order</div>';
                payButton.textContent = 'Pay ₹0';
                return;
            }
            
            cart.forEach(item => {
                const orderItemElement = document.createElement('div');
                orderItemElement.classList.add('order-item');
                orderItemElement.dataset.id = item.id;
                
                orderItemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="order-item-image">
                    <div class="order-item-details">
                        <div class="order-item-type">
                            <div class="food-type ${item.type}-type">
                                <div class="type-indicator"></div>
                                <div class="type-dot"></div>
                            </div>
                        </div>
                        <div class="order-item-name">${item.name}</div>
                        <div class="order-item-controls">
                            <div class="order-quantity-controls" data-id="${item.id}">
                                <button class="quantity-btn minus-btn">-</button>
                                <span class="quantity-value">${item.quantity}</span>
                                <button class="quantity-btn plus-btn">+</button>
                            </div>
                        </div>
                        <div class="order-item-price">₹${item.price * item.quantity}</div>
                    </div>
                `;
                
                orderItems.appendChild(orderItemElement);
            });
            
            // Update total amount in pay button
            payButton.textContent = `Pay ₹${calculateTotal()}`;
            
            // Attach event listeners to order item controls
            attachOrderItemEventListeners();
        }

        function setupEventListeners() {
            searchInput.addEventListener('input', function() {
                searchTerm = this.value;
                renderFoodItems(foodItems);
            });
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    // Check if the click was on the close button
                    if (e.target.classList.contains('filter-close') || 
                        e.target.parentElement.classList.contains('filter-close')) {
                        this.classList.remove('active');
                        currentFilter = "all";
                    } else {
                        const filter = this.dataset.filter;
                        
                        if (this.classList.contains('active') && currentFilter === filter) {
                            this.classList.remove('active');
                            currentFilter = "all";
                        } else {
                            filterButtons.forEach(btn => btn.classList.remove('active'));
                            this.classList.add('active');
                            currentFilter = filter;
                        }
                    }
                    
                    renderFoodItems(foodItems);
                });
            });
            
            viewCartBtn.addEventListener('click', function() {
                showOrderSummary();
            });
            
            backToMenuBtn.addEventListener('click', function() {
                showMainView();
            });
            
            backBtn.addEventListener('click', function() {
                hideFoodDetail();
                // Refresh the menu items to reflect any changes
                renderFoodItems(foodItems);
            });
            
            detailAddBtn.addEventListener('click', function() {
                addToCart(currentDetailItemId, detailQuantity);
                updateDetailView(currentDetailItemId);
            });
            
            detailMinusBtn.addEventListener('click', function() {
                if (detailQuantity > 1) {
                    detailQuantity--;
                    detailQuantityValue.textContent = detailQuantity;
                    updateCartItemQuantity(currentDetailItemId, detailQuantity);
                } else if (detailQuantity === 1) {
                    removeFromCart(currentDetailItemId);
                    updateDetailView(currentDetailItemId);
                }
            });
            
            detailPlusBtn.addEventListener('click', function() {
                detailQuantity++;
                detailQuantityValue.textContent = detailQuantity;
                updateCartItemQuantity(currentDetailItemId, detailQuantity);
            });
            
            overlay.addEventListener('click', function() {
                hideFoodDetail();
                // Refresh the menu items to reflect any changes
                renderFoodItems(foodItems);
            });
            
            payButton.addEventListener('click', function() {
                if (cart.length === 0) {
                    alert('Your cart is empty. Add some items before proceeding to payment.');
                    return;
                }
                
                if (!validatePhoneNumber()) {
                    alert('Please enter a valid 10-digit phone number.');
                    return;
                }
                
                alert(`Payment successful! Total: ₹${calculateTotal()}. You will receive a confirmation on ${phoneInput.value}`);
            });
            
            // Phone number validation
            phoneInput.addEventListener('input', function() {
                validatePhoneNumber();
            });
        }
        
        function validatePhoneNumber() {
            const phoneNumber = phoneInput.value;
            const isValid = /^\d{10}$/.test(phoneNumber);
            
            if (phoneNumber && !isValid) {
                phoneInputContainer.classList.add('invalid');
                return false;
            } else {
                phoneInputContainer.classList.remove('invalid');
                return true;
            }
        }
        
        function attachMenuEventListeners() {
            // Add button listeners
            const addButtons = document.querySelectorAll('.add-btn');
            addButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const itemId = parseInt(this.dataset.id);
                    addToCart(itemId, 1);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
            });
            
            // Quantity control listeners
            const minusButtons = document.querySelectorAll('.minus-btn');
            minusButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    decrementCartItem(itemId);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
            });
            
            const plusButtons = document.querySelectorAll('.plus-btn');
            plusButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    incrementCartItem(itemId);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
            });
            
            // Menu item click listeners
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    const itemId = parseInt(this.dataset.id);
                    showFoodDetail(itemId);
                });
            });
        }
        
        function attachOrderItemEventListeners() {
            // Quantity control listeners in order view
            const minusButtons = document.querySelectorAll('.order-item .minus-btn');
            minusButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    decrementCartItem(itemId);
                    e.stopPropagation();
                    updateOrderView();
                });
            });
            
            const plusButtons = document.querySelectorAll('.order-item .plus-btn');
            plusButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    incrementCartItem(itemId);
                    e.stopPropagation();
                    updateOrderView();
                });
            });
        }
        
        function updateItemButton(itemId) {
            const cartItem = cart.find(item => item.id === itemId);
            const quantity = cartItem ? cartItem.quantity : 0;
            const itemElement = document.querySelector(`.menu-item[data-id="${itemId}"]`);
            
            if (!itemElement) return;
            
            const actionContainer = itemElement.querySelector('.food-price-action');
            
            if (quantity > 0) {
                actionContainer.innerHTML = `
                    <div class="food-price">₹${foodItems.find(item => item.id === itemId).price}</div>
                    <div class="quantity-controls" data-id="${itemId}">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-value">${quantity}</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                `;
                
                // Reattach event listeners to the new buttons
                const minusBtn = actionContainer.querySelector('.minus-btn');
                const plusBtn = actionContainer.querySelector('.plus-btn');
                
                minusBtn.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    decrementCartItem(itemId);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
                
                plusBtn.addEventListener('click', function(e) {
                    const control = this.parentElement;
                    const itemId = parseInt(control.dataset.id);
                    incrementCartItem(itemId);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
            } else {
                actionContainer.innerHTML = `
                    <div class="food-price">₹${foodItems.find(item => item.id === itemId).price}</div>
                    <button class="add-btn" data-id="${itemId}">ADD</button>
                `;
                
                const addButton = actionContainer.querySelector('.add-btn');
                addButton.addEventListener('click', function(e) {
                    addToCart(itemId, 1);
                    e.stopPropagation();
                    updateItemButton(itemId);
                });
            }
        }

        function showFoodDetail(itemId) {
            const item = foodItems.find(item => item.id === itemId);
            if (!item) return;
            
            currentDetailItemId = itemId;
            
            const cartItem = cart.find(cartItem => cartItem.id === itemId);
            detailQuantity = cartItem ? cartItem.quantity : 1;
            
            detailImage.src = item.image;
            detailName.textContent = item.name;
            detailPrice.textContent = `₹${item.price}`;
            detailDescription.textContent = item.description;
            detailQuantityValue.textContent = detailQuantity;
            
            // Update the type indicator
            detailType.className = `food-type ${item.type}-type`;
            detailType.innerHTML = `
                <div class="type-indicator"></div>
                <div class="type-dot"></div>
            `;
            
            updateDetailView(itemId);
            
            overlay.classList.add('active');
            foodDetail.classList.add('active');
            
            document.body.style.overflow = 'hidden';
        }
        
        function updateDetailView(itemId) {
            const cartItem = cart.find(item => item.id === itemId);
            
            if (cartItem && cartItem.quantity > 0) {
                detailAddBtn.style.display = 'none';
                detailQuantityControls.style.display = 'flex';
                detailQuantityValue.textContent = cartItem.quantity;
                detailQuantity = cartItem.quantity;
            } else {
                detailAddBtn.style.display = 'flex';
                detailQuantityControls.style.display = 'none';
                detailQuantity = 1;
                detailQuantityValue.textContent = detailQuantity;
            }
        }
        
        function hideFoodDetail() {
            overlay.classList.remove('active');
            foodDetail.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function showOrderSummary() {
            mainView.style.display = 'none';
            orderSummaryView.style.display = 'flex';
            renderOrderItems();
        }
        
        function showMainView() {
            orderSummaryView.style.display = 'none';
            mainView.style.display = 'block';
            renderFoodItems(foodItems);
        }
        
        function updateOrderView() {
            renderOrderItems();
            updateCartUI();
        }
        
        function addToCart(itemId, quantity) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            const item = foodItems.find(item => item.id === itemId);
            
            if (itemIndex === -1) {
                // Add to cart
                cart.push({...item, quantity: quantity});
            } else {
                // Update quantity
                cart[itemIndex].quantity = quantity;
            }
            
            updateCartUI();
            updateDetailView(itemId);
        }
        
        function updateCartItemQuantity(itemId, quantity) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                cart[itemIndex].quantity = quantity;
                updateCartUI();
            }
        }
        
        function removeFromCart(itemId) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                cart.splice(itemIndex, 1);
            }
            
            updateCartUI();
        }
        
        function incrementCartItem(itemId) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                cart[itemIndex].quantity++;
                updateCartUI();
            }
        }
        
        function decrementCartItem(itemId) {
            const itemIndex = cart.findIndex(item => item.id === itemId);
            
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity--;
                } else {
                    cart.splice(itemIndex, 1);
                }
                
                updateCartUI();
            }
        }

        function calculateTotal() {
            return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        }

        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            if (totalItems > 0) {
                cartSummary.classList.add('visible');
            } else {
                cartSummary.classList.remove('visible');
            }
        }

        // Initialize the app
        init();
    </script>
</body>
</html>
